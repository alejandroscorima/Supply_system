<div class=" bg-amber-100 m-3 p-9" style="margin:20px; max-height:100%;" >



    <div class="w-full p-6 bg-white border border-gray-200 rounded-lg shadow
    dark:bg-gray-800 dark:border-gray-700">
 
     <a>
        <h5 class="mb-2 text-2xl font-semibold tracking-tight text-gray-900 dark:text-white">
          Nuevo requerimiento</h5>
     </a>


      <div class="mb-8  rounded-lg md:mb-12  gap-2 grid md:grid-cols-3 bg-white dark:bg-gray-800 ">

      <div class=" m-4  w-full col-span-1">
        <label for="Area" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
          Area:
        </label>
        <select id="TiposSelect" class=" w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm 
        rounded-lg focus:ring-blue-500 focus:border-blue-500 block  p-2.5 dark:bg-gray-700
      dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
      dark:focus:border-blue-500" [(ngModel)]="req.area"  (change)="areaChange($event)" >
        
          <option id="optionTipo"
            *ngFor="let a of areas" [value]="a['name']" >
          <button type="button" (click)="(a)" >{{a['name']}}</button>
          
          </option>
        
        </select>
      </div>


    <div class=" m-4 w-full col-span-2">
      <label for="large-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
        Ingrese el nombre del encargado: </label>
      <input type="text" id="default-input" class="w-full bg-gray-50 border border-gray-300
      text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5
      dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
      dark:focus:border-blue-500"

        [(ngModel)]="req.encargado" placeholder="Encargado"
      >
    </div>


    <div class=" m-4  w-full col-span-1">
      <label for="Campus" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
        Sala:
      </label>
      <select id="Campus" class=" w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm 
      rounded-lg focus:ring-blue-500 focus:border-blue-500 block  p-2.5 dark:bg-gray-700
    dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
    dark:focus:border-blue-500" [(ngModel)]="req.sala"  (change)="salaChange($event)" >
      
        <option id="optionTipo"
          *ngFor="let c of campus" [value]="c['name']" >
        <button type="button" (click)="(c)" >{{c['name']}}</button>
        
        </option>
      
      </select>
    </div>


   

    <div class=" m-4 w-full col-span-1">
      <mat-form-field appearance="outline">
        <mat-label>Fecha:</mat-label>
        <input matInput [matDatepicker]="dp3" disabled [(ngModel)]="fecha" #ref (dateChange)="dateChange(ref.value)">
        <mat-datepicker-toggle disabled="" matSuffix [for]="dp3"></mat-datepicker-toggle>
        <mat-datepicker #dp3 disabled="false"></mat-datepicker>
      </mat-form-field>
    </div>



    <div class=" m-4  w-full col-span-1">
      <label for="prioridad" class="block mb-2 text-sm font-medium text-gray-900
       dark:text-white">
          Prioridad:</label>
      <select id="TiposSelect" class=" w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm 
      rounded-lg focus:ring-blue-500 focus:border-blue-500 block  p-2.5 dark:bg-gray-700
    dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
    dark:focus:border-blue-500"  (change)="priorityChange($event)">
        <option selected [hidden]="true">Prioridad</option>
        <option id="optionTipo"
          *ngFor="let p of prioridades" [value]="p['nivel']">
          <button type="button" (click)="(p)" >{{p['nivel']}}</button>
        
        </option>
    
      </select>
    </div>

  
    <div class=" m-4 w-full col-span-3">
      <label for="large-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
        Ingrese el motivo: </label>
      <input type="text" id="default-input" class="w-full bg-gray-50 border border-gray-300
      text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5
      dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
      dark:focus:border-blue-500"

      [(ngModel)]="req.motivo" placeholder="Motivo"
      >
    </div>


      </div>

    </div>
<!-- 
    <mat-card class="mat-elevation-z8 card-orden">
      <mat-card-title>Nuevo requerimiento</mat-card-title>
      <mat-card-content>

        <mat-form-field style="width:30%;" class="sala" id="sala" appearance="outline" >
          <mat-label>Area:</mat-label>
          <mat-select [(value)]="req.area" (selectionChange)="areaChange($event)">
              <mat-option *ngFor="let a of areas" [value]="a['name']">{{a['name']}}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field style="width:60%;" class="doc_id" appearance="outline">
          <mat-label>Responsable:</mat-label>
          <input matInput [(ngModel)]="req.encargado">
        </mat-form-field>

        <mat-form-field style="width:28%;" class="sala" id="sala" appearance="outline" >
          <mat-label>Sala:</mat-label>
          <mat-select [(value)]="req.sala" (selectionChange)="salaChange($event)">
              <mat-option *ngFor="let c of campus" [value]="c['name']">{{c['name']}}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field style="width:28%;" appearance="outline">
          <mat-label>Fecha:</mat-label>
          <input matInput [matDatepicker]="dp3" disabled [(ngModel)]="fecha" #ref (dateChange)="dateChange(ref.value)">
          <mat-datepicker-toggle disabled="" matSuffix [for]="dp3"></mat-datepicker-toggle>
          <mat-datepicker #dp3 disabled="false"></mat-datepicker>
        </mat-form-field>

        <mat-form-field style="width:28%;" class="sala" id="sala" appearance="outline" >
          <mat-label>Prioridad:</mat-label>
          <mat-select [(value)]="req.prioridad" (selectionChange)="priorityChange($event)">
              <mat-option *ngFor="let p of prioridades" [value]="p['nivel']">{{p['nivel']}}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field style="width:90%;" class="doc_id" appearance="outline">
          <mat-label>Motivo:</mat-label>
          <input matInput [(ngModel)]="req.motivo">
        </mat-form-field>

      </mat-card-content>
    </mat-card>

 -->
    


  <div class="w-full p-6 bg-white border border-gray-200 rounded-lg shadow
            dark:bg-gray-800 dark:border-gray-700 mt-4">

      <a>
        <h5 class="mb-2 text-2xl font-semibold tracking-tight text-gray-900 dark:text-white">
        NUEVO ITEM</h5>
      </a>
      <div class=" mb-8  rounded-lg
            md:mb-12  grid md:grid-cols-9 gap-2 bg-white dark:bg-gray-800 " >

        <form class="max-w-xs mb-6 mx-auto col-span-2 flex flex-col ">
          <label for="quantity-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Cantidad:</label>
          <div class=" flex ">
              <button type="button" id="decrement-button" class="bg-gray-100 dark:bg-gray-700
              dark:hover:bg-gray-600 dark:border-gray-600 hover:bg-gray-200 border border-gray-300 rounded-s-lg p-3 h-11
                focus:ring-gray-100 dark:focus:ring-gray-700 focus:ring-2 focus:outline-none"
                (click)="decreaseQuantityButton()"
                >
                  <svg class="w-3 h-3 text-gray-900 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 2">
                      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h16"/>
                  </svg>
              </button>
              <input type="text" appFloatPositive id="quantity-input" aria-describedby="helper-text-explanation" 
              class="bg-gray-50 border-x-0 border-gray-300 h-11 text-center text-gray-900 text-sm focus:ring-blue-500
              focus:border-blue-500 block w-full py-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 
            
              dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="0" required
              [(ngModel)]="item.cantidad" placeholder="Cantidad">

              <button type="button" id="increment-button" 
              class="bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600 hover:bg-gray-200 border
               border-gray-300 rounded-e-lg p-3 h-11 focus:ring-gray-100 dark:focus:ring-gray-700 focus:ring-2 focus:outline-none"
               (click)="increaseQuantityButton()">
                  <svg class="w-3 h-3 text-gray-900 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                  </svg>
              </button>

          </div>
        </form>

        <div class="mb-6 w-full mx-auto  col-span-5 flex flex-col">
          <label for="large-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Ingrese la descripción del producto</label>
          <input type="text" id="default-input" class="bg-gray-50 border border-gray-300
          text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block  w-auto p-2.5
          dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
          dark:focus:border-blue-500"

          [(ngModel)]="item.descripcion" placeholder="Descripcion">
        </div>

        <div class=" mb-6 w-full mx-auto  col-span-2">
          <label for="sala" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
              Tipo de Orden:{{item.tipo}}</label>
          <select id="TiposSelect" class=" w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm 
          rounded-lg focus:ring-blue-500 focus:border-blue-500 block  p-2.5 dark:bg-gray-700
        dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
        dark:focus:border-blue-500"  (change)="ordenChange($event)">
            <option *ngFor="let t of tipoOrdenItem"  >
              <button type="button"  [value]="t">{{t}}</button>

            </option>
            </select>
        </div>

            <div *ngIf="item.tipo!='COTIZACION'" class="col-span-6"  >


              <div class="flex gap-2">
              <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white" for="file_input">Imagen:</label>
              <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 18">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 12.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z"/>
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 3h-2l-.447-.894A2 2 0 0 0 12.764 1H7.236a2 2 0 0 0-1.789 1.106L5 3H3a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V5a2 2 0 0 0-2-2Z"/>
              </svg>
              </div>
              <input class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer
               bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600
                dark:placeholder-gray-400" aria-describedby="file_input_help" id="file_input" type="file"
                (change)="onFileChanged($event)" #fileInput
                >
              <p class="mt-1 text-sm text-gray-500 dark:text-gray-300" id="file_input_help">SVG, PNG, JPG or GIF (MAX. 800x400px).</p>

             
            </div>
    
            <div *ngIf="item.tipo=='COTIZACION'" class="col-span-6"  >

              
              <div class="flex gap-2">
                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white" for="file_input">Documento:</label>
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M.188 5H5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707c-.358.362-.617.81-.753 1.3C.148 5.011.166 5 .188 5ZM14 8a6 6 0 1 0 0 12 6 6 0 0 0 0-12Zm2 7h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1h1a1 1 0 0 1 0 2Z"/>
                  <path d="M6 14a7.969 7.969 0 0 1 10-7.737V2a1.97 1.97 0 0 0-1.933-2H7v5a2 2 0 0 1-2 2H.188A.909.909 0 0 1 0 6.962V18a1.969 1.969 0 0 0 1.933 2h6.793A7.976 7.976 0 0 1 6 14Z"/>
                </svg>
                </div>
                <input class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer
                 bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600
                  dark:placeholder-gray-400" aria-describedby="file_input_help" id="file_input" type="file"
                  (change)="onPDFChanged($event)" #pdfInput
                  >
                <p class="mt-1 text-sm text-gray-500 dark:text-gray-300" id="file_input_help">PDF.</p>
  


              <!-- <label>Documento:</label>
              <input  type="file" (change)="onPDFChanged($event)" #pdfInput>&nbsp;
              <button (click)="pdfInput.click()"><mat-icon>upload_file</mat-icon></button>&nbsp;
            
              <a *ngIf="pdf">{{pdf.name}} </a> -->
            </div>
    
            <div *ngIf="file"  class="col-span-full">
              <img style="width:300px; height:300px" [src]="preview" class="preview">
            </div>
    
    
            &nbsp;
    
            



          </div>


          
            <div class=" flex justify-end">
             
          <button type="button" class= " object-right
          text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl 
          focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800 font-medium rounded-lg 
          text-sm px-5 py-2.5 text-center me-2 mb-2bg-blue-700 hover:bg-blue-800  inline-flex 
          items-center  dark:bg-blue-600 dark:hover:bg-blue-700 "
          (click)="addItem()">
            <svg class="w-4 h-4 text-gray-800 dark:text-white mr-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
            </svg>
              Añadir Item 
            </button>
            </div>
          </div>



   <!-- 

    <mat-card class="mat-elevation-z8 card-orden">

      <mat-card-title> Nuevo item </mat-card-title>

      <mat-card-content>

        <mat-form-field style="width:30%;" class="doc_id" appearance="outline">
          <mat-label>Cantidad:</mat-label>
          <input type="number" matInput [(ngModel)]="item.cantidad">
        </mat-form-field>

        &nbsp;<label >Tipo de orden:</label>

        <mat-radio-group [(ngModel)]="item.tipo">
          &nbsp;<mat-radio-button value="COMPRA">Compra</mat-radio-button>
          &nbsp;<mat-radio-button value="SERVICIO">Servicio</mat-radio-button>
          &nbsp;<mat-radio-button value="COTIZACION">Cotizacion</mat-radio-button>
        </mat-radio-group>

        <mat-form-field style="width:60%;" appearance="outline">
          <mat-label>Descripcion:</mat-label>
          <input matInput [(ngModel)]="item.descripcion">
        </mat-form-field>

        <div *ngIf="item.tipo!='COTIZACION'" style="width:30%;" >
          <mat-label>Imagen:</mat-label>
          <input style="display:none" type="file" (change)="onFileChanged($event)" #fileInput>&nbsp;
          <button mat-raised-button (click)="fileInput.click()"><mat-icon>add_a_photo</mat-icon></button>
         
        </div>

        <div *ngIf="item.tipo=='COTIZACION'" style="width:85%;" >
          <mat-label>Documento:</mat-label>
          <input style="display:none" type="file" (change)="onPDFChanged($event)" #pdfInput>&nbsp;
          <button mat-raised-button (click)="pdfInput.click()"><mat-icon>upload_file</mat-icon></button>&nbsp;
         
          <a *ngIf="pdf">{{pdf.name}} </a>
        </div>

        <div *ngIf="file">
          <img style="width:300px; height:300px" [src]="preview" class="preview">
        </div>


        &nbsp;

        <div>
          <button mat-raised-button style="background-color: rgb(169, 152, 27); color:white" (click)="addItem()">
            <mat-icon>add</mat-icon>AGREGAR ITEM
          </button>
        </div>

      </mat-card-content>

    </mat-card>


 -->

   
  <div class="w-full p-6 bg-white border border-gray-200 rounded-lg shadow
  dark:bg-gray-800 dark:border-gray-700 mt-4">
  
  <a>
    <h5 class="mb-2 text-2xl font-semibold tracking-tight text-gray-900 dark:text-white">
   Lista</h5>
  </a>
   
     <div>
        <mat-form-field appearance="standard" style="display:display-inline">
            <mat-label>Búsqueda</mat-label>
            <input matInput (keyup)="applyFilterD($event)" placeholder="Escribe algo para buscar" #input1>
        </mat-form-field>

        <div appearance="standard" style="display:display-inline; float:right">
          <div class="">
             
            <button type="button" class="flex gap-2 text-white bg-gradient-to-r  from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 
           focus:outline-none focus:ring-green-300 dark:focus:ring-green-800 shadow-lg shadow-green-500/50 dark:shadow-lg dark:shadow-green-800/80 font-medium rounded-lg text-sm px-5 
            py-2.5 text-center me-2 mb-2" (click)="saveReq()">
            <svg class="w-6 h-6 text-white dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 21 21">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m6.072 10.072 2 2 6-4m3.586 4.314.9-.9a2 2 0 0 0 0-2.828l-.9-.9a2 
              2 0 0 1-.586-1.414V5.072a2 2 0 0 0-2-2H13.8a2 2 0 0 1-1.414-.586l-.9-.9a2 2 0 0 0-2.828 0l-.9.9a2 2 0 0 1-1.414.586H5.072a2 2 0 0 0-2 2v1.272a2 2 0 0 1-.586 1.414l-.9.9a2 
          2 0 0 0 0 2.828l.9.9a2 2 0 0 1 .586 1.414v1.272a2 2 0 0 0 2 2h1.272a2 2 0 0 1 1.414.586l.9.9a2 2 0 0 0 2.828 0l.9-.9a2 2 0 0 1 1.414-.586h1.272a2 2 0 0 0 2-2V13.8a2 2 0 0 1
           .586-1.414Z"/>
             </svg>
            Registrar
            </button>
            </div>
            
  <!--   </div>
          <button mat-raised-button style="background-color:
           green; color:white" (click)="saveReq()">
            <mat-icon>check</mat-icon>REGISTRAR
          </button>

-->
        </div> 


        <div class="mat-elevation-z8" style="width:100%;">
            <table mat-table style="width:100%;" [dataSource]="dataSourceReq" matSort>

              <ng-container matColumnDef="quantity">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> CANTIDAD </th>
                <td mat-cell *matCellDef="let a; let i=index"> {{a.cantidad}}</td>
              </ng-container>

              <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> DESCRIPCION </th>
                <td mat-cell *matCellDef="let a"> {{a.descripcion}}</td>
              </ng-container>

              <ng-container matColumnDef="ordertype">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> TIPO DE ORDEN </th>
                <td mat-cell *matCellDef="let a"> {{a.tipo}}</td>
              </ng-container>

              <ng-container matColumnDef="edit">
                <th mat-header-cell *matHeaderCellDef> </th>
                <td mat-cell *matCellDef="let a; let i=index">
                  <button class="btnDel" mat-raised-button focusable="false"  (click)="deleteItem(i)">
                    <mat-icon>delete</mat-icon>
                  </button>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="['quantity','description','ordertype','edit'];"></tr>
              <tr mat-row *matRowDef="let row; columns: ['quantity','description','ordertype','edit'];"></tr>



              <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="6">No se encontró "{{input1.value}}"</td>
              </tr>
            </table>

            <mat-paginator [pageSizeOptions]="[10, 20, 50, 100]" aria-label="Página"></mat-paginator>
        </div>
      
        </div>
    </div>
  </div>